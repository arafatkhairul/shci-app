# ===================================================================
# Requirements for SHCI Voice Assistant Project
#
# This file is structured to ensure compatibility between all packages,
# especially resolving conflicts related to PyTorch, TTS, and its dependencies.
# To install, run: pip install -r requirements.txt
# ===================================================================

# -- Core Framework --
# FastAPI for the main application and Uvicorn as the server.
fastapi==0.116.1
uvicorn[standard]==0.35.0
python-dotenv==1.1.1
requests==2.32.5

# -- Machine Learning & Data Processing --
# Pinned to versions known to be compatible with the TTS model.
numpy>=1.24.0,<2.0.0
pandas<2.0,>=1.4
scikit-learn>=1.3.0
numba>=0.57.0,<0.62.0

# -- PyTorch --
# Versions compatible with Python 3.11 and the TTS library.
torch==2.7.1
torchvision==0.22.1+cu118
torchaudio>=0.13.0,<2.9.0
transformers>=4.33.0

# -- Main Text-to-Speech (TTS) Engine --
# Coqui TTS and its direct audio dependencies.
TTS==0.21.3
soundfile==0.13.1
librosa>=0.9.0
pydub>=0.25.0
scipy>=1.7.0

# -- Core Dependencies for TTS (to prevent conflicts) --
# These specific versions are required by TTS and its sub-packages.
coqpit>=0.0.16
trainer>=0.0.32
einops>=0.6.0
packaging>=23.1
tqdm>=4.64.1
pyyaml>=6.0
aiohttp>=3.8.1
flask>=2.0.1
matplotlib>=3.7.0
cython>=0.29.30

# -- Natural Language Processing (NLP) Dependencies --
# Required for text processing by Spacy, Gruut, and others.
spacy[ja]>=3
thinc>=8.3.0,<8.4.0           # Critical: spacy dependency
networkx>=2.5.0,<3.0.0      # Critical: gruut dependency
gruut[de,es,fr]==2.2.3
nltk
pysbd>=0.3.4
g2pkk>=0.1.1
jieba
pypinyin
hangul-romanize
jamo
unidecode>=1.3.2
anyascii>=0.3.0
inflect>=5.6.0
num2words
bangla
bnnumerizer
# bnunicodenormalizer - install from GitHub if PyPI fails
# pip install git+https://github.com/banglakit/bnunicodenormalizer.git
bnunicodenormalizer

# -- Other Utilities --
umap-learn>=0.5.1
encodec>=0.1.1
typing_extensions>=4.14.0    # Often needed for compatibility with newer libraries.

# -- WebSocket and Speech Recognition --
websocket_client==1.8.0
webrtcvad_wheels==2.0.14

# -- Legacy TTS (Optional) --
# A simple, offline TTS engine.
pyttsx3==2.99
