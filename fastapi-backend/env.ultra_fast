# ===================================================================
# SHCI Voice Assistant - ULTRA FAST Configuration (500ms Response)
# ===================================================================
# This file is optimized for sub-500ms response times like RealtimeVoiceChat
# Copy this to .env for fastest possible performance
# ===================================================================

# ===================================================================
# APPLICATION ENVIRONMENT (ULTRA FAST)
# ===================================================================
TTS_ENVIRONMENT=production
ENVIRONMENT=production
NODE_ENV=production

# ===================================================================
# LLM CONFIGURATION (ULTRA FAST)
# ===================================================================
LLM_API_URL=http://69.197.183.130:11434/v1/chat/completions
LLM_MODEL=huihui-24b:Q4_K_M
LLM_API_KEY=
LLM_TIMEOUT=5.0   # Ultra fast timeout
LLM_RETRIES=1     # Single retry

# ===================================================================
# REALTIME STT CONFIGURATION (ULTRA FAST)
# ===================================================================
# RealtimeSTT optimization settings for instant response
RT_MODEL=tiny.en                  # Fastest possible model
RT_REALTIME_MODEL=tiny.en        # Fastest realtime model
RT_REALTIME_PAUSE=0.01           # Ultra fast processing (10ms)
RT_VAD_SENS=4                    # Maximum sensitivity
RT_SILERO_DEACT=1                # Enable deactivity detection
RT_PRE_ROLL=0.01                 # Minimal pre-roll (10ms)
RT_POST_SILENCE=0.1              # Ultra short silence detection (100ms)
RT_MIN_UTT=0.1                   # Ultra short minimum utterance (100ms)
RT_GPU_INDEX=0                   # GPU index
RT_LANG=en                       # Lock to English
RT_BUFFER_MAX=100                # Minimal buffer for lowest latency
RT_LOG_LEVEL=50                  # Critical level only
RT_SPINNER=0                     # Disable spinner
RT_NO_LOG_FILE=1                 # No log files

# ===================================================================
# TTS SYSTEM CONFIGURATION (ULTRA FAST)
# ===================================================================
TTS_SYSTEM=piper

# ===================================================================
# PIPER TTS CONFIGURATION (ULTRA FAST)
# ===================================================================
PIPER_MODEL_NAME=en_US-libritts-high
PIPER_LENGTH_SCALE=0.3           # Very fast speech
PIPER_NOISE_SCALE=0.5            # Optimized for speed
PIPER_NOISE_W=0.6                # Optimized for speed

# Device Configuration (GPU ENABLED for maximum speed)
PIPER_DEVICE=cuda
PIPER_FORCE_CUDA=true
CUDA_VISIBLE_DEVICES=0

# GPU optimization settings for maximum speed
TORCH_CUDA_ALLOC_CONF=max_split_size_mb:2048
CUDA_CACHE_DISABLE=0

# ===================================================================
# AUDIO CONFIGURATION (ULTRA FAST)
# ===================================================================
TTS_OUTPUT_FORMAT=wav
TTS_SAMPLE_RATE=22050
DEFAULT_LANGUAGE=en

# ===================================================================
# VOICE ACTIVITY DETECTION (VAD) - ULTRA FAST
# ===================================================================
TRIGGER_VOICED_FRAMES=1          # Maximum sensitivity
END_SILENCE_MS=100               # Ultra short silence detection
MAX_UTTER_MS=3000                # Shorter max utterance
MIN_UTTER_SEC=0.05               # Ultra short minimum
MIN_RMS=0.002                    # Maximum sensitivity

# ===================================================================
# CONCURRENCY CONFIGURATION (ULTRA FAST)
# ===================================================================
STT_CONCURRENCY=1                # Single STT for lowest latency
TTS_CONCURRENCY=1                # Single TTS for lowest latency

# ===================================================================
# ASSISTANT CONFIGURATION
# ===================================================================
ASSISTANT_NAME=Self Hosted Conversational Interface
ASSISTANT_AUTHOR=NZR DEV

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================
MEM_DB_DIR=memdb

# ===================================================================
# PERFORMANCE OPTIMIZATIONS (ULTRA FAST)
# ===================================================================
DEV_MODE=false
DEBUG_TTS=false
DEBUG_STREAMING=false
TTS_VERBOSE_LOGGING=false

# Thread optimization for maximum speed
OMP_NUM_THREADS=16
MKL_NUM_THREADS=16
NUMEXPR_NUM_THREADS=16

# ===================================================================
# ULTRA FAST RESPONSE SETTINGS
# ===================================================================
# These settings are optimized for sub-500ms response times
# Inspired by RealtimeVoiceChat project performance
# - STT finalization in <100ms
# - LLM first token in <200ms  
# - Audio generation in <200ms
# - Total response time <500ms
# ===================================================================
