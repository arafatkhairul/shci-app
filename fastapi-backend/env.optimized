# ===================================================================
# SHCI Voice Assistant - OPTIMIZED Configuration for FAST Processing
# ===================================================================
# This file is optimized for minimal latency and fast response times
# Copy this to .env for fastest possible performance
# ===================================================================

# ===================================================================
# APPLICATION ENVIRONMENT (OPTIMIZED)
# ===================================================================
TTS_ENVIRONMENT=production
ENVIRONMENT=production
NODE_ENV=production

# ===================================================================
# LLM CONFIGURATION (OPTIMIZED FOR SPEED)
# ===================================================================
LLM_API_URL=http://69.197.183.130:11434/v1/chat/completions
LLM_MODEL=huihui-24b:Q4_K_M
LLM_API_KEY=
LLM_TIMEOUT=15.0  # Reduced timeout for faster failure detection
LLM_RETRIES=1     # Single retry for faster processing

# ===================================================================
# REALTIME STT CONFIGURATION (OPTIMIZED FOR SPEED)
# ===================================================================
# RealtimeSTT optimization settings
RT_MODEL=base.en                    # Fastest model
RT_REALTIME_MODEL=base.en          # Fastest realtime model
RT_REALTIME_PAUSE=0.02             # Very fast processing (20ms)
RT_VAD_SENS=3                      # Very sensitive for faster detection
RT_SILERO_DEACT=1                  # Enable deactivity detection
RT_PRE_ROLL=0.02                   # Minimal pre-roll (20ms)
RT_POST_SILENCE=0.2                # Very short silence detection (200ms)
RT_MIN_UTT=0.15                    # Very short minimum utterance (150ms)
RT_GPU_INDEX=0                     # GPU index
RT_LANG=en                         # Lock to English for faster processing
RT_BUFFER_MAX=200                  # Smaller buffer for lower latency
RT_LOG_LEVEL=50                    # Critical level only
RT_SPINNER=0                       # Disable spinner
RT_NO_LOG_FILE=1                   # No log files

# ===================================================================
# TTS SYSTEM CONFIGURATION (OPTIMIZED)
# ===================================================================
TTS_SYSTEM=piper

# ===================================================================
# PIPER TTS CONFIGURATION (SPEED OPTIMIZED)
# ===================================================================
PIPER_MODEL_NAME=en_US-libritts-high
PIPER_LENGTH_SCALE=0.4             # Faster speech
PIPER_NOISE_SCALE=0.6              # Optimized for speed
PIPER_NOISE_W=0.7                  # Optimized for speed

# Device Configuration (GPU ENABLED for speed)
PIPER_DEVICE=cuda
PIPER_FORCE_CUDA=true
CUDA_VISIBLE_DEVICES=0

# GPU optimization settings for speed
TORCH_CUDA_ALLOC_CONF=max_split_size_mb:1024
CUDA_CACHE_DISABLE=0

# ===================================================================
# AUDIO CONFIGURATION (OPTIMIZED)
# ===================================================================
TTS_OUTPUT_FORMAT=wav
TTS_SAMPLE_RATE=22050
DEFAULT_LANGUAGE=en

# ===================================================================
# VOICE ACTIVITY DETECTION (VAD) - OPTIMIZED FOR SPEED
# ===================================================================
TRIGGER_VOICED_FRAMES=1            # Very sensitive trigger
END_SILENCE_MS=150                 # Very short silence detection
MAX_UTTER_MS=5000                  # Shorter max utterance
MIN_UTTER_SEC=0.1                  # Very short minimum
MIN_RMS=0.003                      # More sensitive

# ===================================================================
# CONCURRENCY CONFIGURATION (OPTIMIZED)
# ===================================================================
STT_CONCURRENCY=1                  # Single STT for lower latency
TTS_CONCURRENCY=1                  # Single TTS for lower latency

# ===================================================================
# ASSISTANT CONFIGURATION
# ===================================================================
ASSISTANT_NAME=Self Hosted Conversational Interface
ASSISTANT_AUTHOR=NZR DEV

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================
MEM_DB_DIR=memdb

# ===================================================================
# PERFORMANCE OPTIMIZATIONS
# ===================================================================
DEV_MODE=false
DEBUG_TTS=false
DEBUG_STREAMING=false
TTS_VERBOSE_LOGGING=false

# Thread optimization for maximum speed
OMP_NUM_THREADS=12
MKL_NUM_THREADS=12
NUMEXPR_NUM_THREADS=12

# ===================================================================
# NOTES FOR OPTIMIZED CONFIGURATION
# ===================================================================
# 1. All timeouts and delays minimized for fastest response
# 2. VAD settings optimized for immediate detection
# 3. STT model set to fastest available (base.en)
# 4. TTS optimized for speed over quality
# 5. Single concurrency for lower latency
# 6. GPU acceleration enabled for all components
# 7. Buffer sizes minimized for lower latency
# ===================================================================
