# ===================================================================
# SHCI Voice Assistant - Professional Configuration
# ===================================================================
# 
# This file contains all essential environment variables for the project.
# Copy this file to .env and modify values as needed for your environment.
# 
# Environment Types:
# - local: Development environment (CPU optimized)
# - production: Production environment (GPU optimized)
# 
# Last Updated: September 14, 2025
# ===================================================================

# ===================================================================
# APPLICATION ENVIRONMENT
# ===================================================================
# Set to 'local' for development, 'production' for live deployment
TTS_ENVIRONMENT=local
ENVIRONMENT=development
NODE_ENV=development

# ===================================================================
# LLM CONFIGURATION
# ===================================================================
# Self-hosted LLM API configuration
LLM_API_URL=http://173.208.167.147:11434/v1/chat/completions
LLM_MODEL=qwen2.5-14b-gpu
LLM_API_KEY=
LLM_TIMEOUT=10.0
LLM_RETRIES=1

# ===================================================================
# TTS SYSTEM CONFIGURATION
# ===================================================================
# TTS System Selection: piper (recommended) or fallback
TTS_SYSTEM=piper

# ===================================================================
# PIPER TTS CONFIGURATION (CPU-ONLY OPTIMIZED)
# ===================================================================
# Model Configuration
PIPER_MODEL_NAME=en_US-libritts_r-medium
PIPER_LENGTH_SCALE=0.5
PIPER_NOISE_SCALE=0.667
PIPER_NOISE_W=0.8

# Device Configuration (CPU-ONLY - FORCED)
PIPER_DEVICE=cpu
PIPER_FORCE_CPU=true
CUDA_VISIBLE_DEVICES=""

# Thread optimization for Intel Xeon (12 cores)
OMP_NUM_THREADS=8
MKL_NUM_THREADS=8
NUMEXPR_NUM_THREADS=8

# Disable all GPU-related optimizations
TORCH_CUDA_ALLOC_CONF=""
CUDA_CACHE_DISABLE=1

# ===================================================================
# AUDIO CONFIGURATION
# ===================================================================
# Audio output settings
TTS_OUTPUT_FORMAT=wav
TTS_SAMPLE_RATE=22050
DEFAULT_LANGUAGE=en

# ===================================================================
# VOICE ACTIVITY DETECTION (VAD)
# ===================================================================
# Voice detection parameters
TRIGGER_VOICED_FRAMES=2
END_SILENCE_MS=250
MAX_UTTER_MS=7000
MIN_UTTER_SEC=0.25
MIN_RMS=0.006

# ===================================================================
# CONCURRENCY CONFIGURATION
# ===================================================================
# Concurrent processing limits
STT_CONCURRENCY=1
TTS_CONCURRENCY=1

# ===================================================================
# ASSISTANT CONFIGURATION
# ===================================================================
# Assistant identity
ASSISTANT_NAME=Self Hosted Conversational Interface
ASSISTANT_AUTHOR=NZR DEV

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================
# Memory database directory
MEM_DB_DIR=memdb

# ===================================================================
# PRODUCTION OVERRIDES (LIVE SERVER)
# ===================================================================
# For LIVE/PRODUCTION server, change these values:
# TTS_ENVIRONMENT=production    # Use GPU for better performance
# ENVIRONMENT=production        # Production environment
# NODE_ENV=production          # Production Node.js environment
# DEV_MODE=false               # Disable development mode
# DEBUG_TTS=false              # Disable TTS debugging
# DEBUG_STREAMING=false        # Disable streaming debugging

# ===================================================================
# DEVELOPMENT OVERRIDES
# ===================================================================
# Uncomment these for development:
# DEV_MODE=true
# DEBUG_TTS=true
# DEBUG_STREAMING=true
# TTS_VERBOSE_LOGGING=true

# ===================================================================
# NOTES
# ===================================================================
# 1. TTS_ENVIRONMENT automatically configures GPU/CPU usage
# 2. Production environment uses GPU if available
# 3. Local environment uses CPU for faster startup
# 4. All paths are relative to the project root
# 5. Database files are created automatically
# 6. TTS models are downloaded automatically on first use
# ===================================================================
