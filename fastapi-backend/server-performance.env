# Server Performance Optimization Configuration
# FORCE CPU-ONLY MODE for Piper TTS
# Optimized for Intel Xeon E5-2697v2 and similar older CPUs

# FORCE CPU USAGE - GPU completely disabled
PIPER_FORCE_CPU=true
PIPER_DEVICE=cpu
CUDA_VISIBLE_DEVICES=""

# Balanced synthesis parameters for old Intel Xeon
PIPER_LENGTH_SCALE=0.6
PIPER_NOISE_SCALE=0.667
PIPER_NOISE_W=0.8

# Aggressive thread optimization for old Intel Xeon
OMP_NUM_THREADS=6
MKL_NUM_THREADS=6
NUMEXPR_NUM_THREADS=6
OPENBLAS_NUM_THREADS=6
MKL_DYNAMIC=false
OMP_DYNAMIC=false

# Aggressive memory optimization for old server
PYTHONHASHSEED=0
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
MALLOC_TRIM_THRESHOLD_=131072
MALLOC_MMAP_THRESHOLD_=131072

# Disable all GPU-related optimizations
TORCH_CUDA_ALLOC_CONF=""
CUDA_CACHE_DISABLE=1
CUDA_LAUNCH_BLOCKING=1
